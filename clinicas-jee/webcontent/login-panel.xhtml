<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">
<ui:composition>

	<p:outputPanel id="login-panel" styleClass="login-panel">
		<!-- Formulario que sera renderizado se o usuario NAO logou na aplicacao -->
		<h:form rendered="#{!loginController.usuarioLogado}" prependId="false">
			<p:inputText 
				id="email" 
				value="#{loginController.email}" 
				required="true" requiredMessage="O email é obrigatório!" 
				label="Email"/>
      <p:watermark for="email" value="Email" id="w1" />
      
      <p:inputText 
      	id="senha" 
      	value="#{loginController.senha}" 
      	required="true" requiredMessage="A senha é obrigatória!" 
      	label="Senha"
      	style="margin-left: 5px;"/>
      <p:watermark for="senha" value="Senha" id="w2" />
			
			<br />
			
			<p:commandButton 
				value="Entrar" 
				actionListener="#{loginController.login}" 
				style="margin-right: 33px;margin-top: 10px;float: right;"
				update="login-panel, growl" />
		</h:form>
		
		<!-- Formulario que sera renderizado quando o usuario logou -->
		<h:form rendered="#{loginController.usuarioLogado}" prependId="false">
			<span style="float: left;">
				<h:outputText value="#{loginController.usuario.nome}" />
				<br />
				<h:outputText value="#{loginController.usuario.email}" />
			</span>
			
			<div style="float: right;">
				<img alt="Pessoa" src="img/person-icon.png" style="width: 70px;"></img>
				<br />
				<p:menuButton value="Acesso Usuário">
					<p:menuitem value="Editar conta" />
					<p:menuitem value="Sair" actionListener="#{loginController.logout()}" update="login-panel" />
				</p:menuButton>
			</div>
		</h:form>
	</p:outputPanel>

</ui:composition>
</html>